---
layout: post
title: Debugging Urllib2 in Python
date: 2009-01-16 20:09:43.000000000 -08:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories: []
tags:
- Programming
- Python
meta:
  _edit_last: '1'
  tmac_last_id: '166390265060401152'
  _jetpack_related_posts_cache: a:1:{s:32:"8f6677c9d6b0f903e98ad32ec61f8deb";a:2:{s:7:"expires";i:1543981766;s:7:"payload";a:3:{i:0;a:1:{s:2:"id";i:165;}i:1;a:1:{s:2:"id";i:378;}i:2;a:1:{s:2:"id";i:252;}}}}
author:
  login: Philihp
  email: philihp@gmail.com
  display_name: Philihp
  first_name: ''
  last_name: ''
---
<p>I was having some trouble debugging an HTTP request using urllib2 in Python which did some unorthodox things with HTTP headers. The urllib2 module itself doesn't have much debug facility. You can see response headers by looking at the hdrs attribute on the exception like this</p>
<pre><code>try:
  opener.open(<i>url</i>)
except urllib2.HTTPError, e:
  print e.hdrs
</code></pre>
<p>But in order to see the actual request string, you've got to go a layer deeper. Urllib2 runs on top of Httplib, so do this before you make your request</p>
<pre><code>import httplib
httplib.HTTPConnection.debuglevel = 1</code></pre>
