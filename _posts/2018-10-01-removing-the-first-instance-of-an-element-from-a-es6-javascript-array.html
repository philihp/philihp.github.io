---
layout: post
title: Removing the First Instance of an Element from a ES6 JavaScript Array
date: 2018-10-01 20:54:06.000000000 -07:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories: []
tags:
- array
- es6
- functional
- Programming
- remove
- slice
meta:
  _edit_last: '1'
  _jetpack_related_posts_cache: a:1:{s:32:"8f6677c9d6b0f903e98ad32ec61f8deb";a:2:{s:7:"expires";i:1543462694;s:7:"payload";a:3:{i:0;a:1:{s:2:"id";i:1472;}i:1;a:1:{s:2:"id";i:490;}i:2;a:1:{s:2:"id";i:476;}}}}
  _wpas_done_all: '1'
author:
  login: Philihp
  email: philihp@gmail.com
  display_name: Philihp
  first_name: ''
  last_name: ''
---
<p>To build upon <a href="https://blog.mariusschulz.com/2016/07/16/removing-elements-from-javascript-arrays">Marius Schulz</a>'s approaches to removing from an array, if you want to remove the first instance of an element in an array, and you don't want to mutate it but instead return a new array (because perhaps you want your <a href="https://lorenstewart.me/2017/01/22/javascript-array-methods-mutating-vs-non-mutating/">React components to update</a>), use a slice.</p>
<pre lang="javascript">
function removeFirst(src, element) {
  const index = src.indexOf(element)
  if (index === -1) return src
  return [...src.slice(0, index), ...src.slice(index + 1)]
}
</pre>
<p>This will give a new array every time.</p>
<pre lang="javascript">
const src = ["a","a","a","b","b","c"];
removeFirst(src, "a") // "a,a,b,b,c"
removeFirst(src, "b") // "a,a,a,b,c"
removeFirst(src, "c") // "a,a,a,b,b"
</pre>
<p>This might seem wasteful, but now you can depend on the identity of the response to change if the array itself changed. If they're the same, and you pass this in as a property to a React component, <a href="https://medium.com/@baphemot/note-that-purecomponent-does-a-shallow-comparison-of-props-so-if-you-use-complex-data-structures-8675023e0b92">the component knows it doesn't have to change</a>.</p>
<pre lang="javascript">
const src = ["a","a","a","b","b","c"];
removeFirst(src, "a") === src // false
removeFirst(src, "b") === src // false
removeFirst(src, "c") === src // false
removeFirst(src, "x") === src // true
</pre>
